<div>
  <% if @user.image? %>
    <%= image_tag @user.image.to_s, :size => '100x100', class: 'mypage-article-img' %>
  <% else %>
    <%= image_tag 'human.jpg', :size => '100x100', class: 'mypage-article-img' %>
  <% end %>
  <%= @user.name %>のユーザ情報編集ページ
</div>

<div class="row">
  <div class="col-sm-6 offset-sm-3">
    <%= form_with(model: @user, local: true) do |f| %>
    <%= render 'layouts/error_messages', model: f.object %>
  
    <div class="form-group">
      <%= f.label :name, 'UserName' %>
      <%= f.text_field :name, class: 'form-control' %>
    </div>
  
    <div class="form-group">
      <%= f.label :age, 'Age' %>
      <%= f.select :age, (16..60) %>
    </div>
    
    <div class="form-group">
      <%= f.label :prefecture_id, '出身地'%>
      <%= f.collection_select :prefecture_id, Prefecture.all, :id, :name %>
    </div>
  
    <div class="form-group">
      <%= f.label :hobby, 'Hobby' %>
      <%= f.text_field :hobby, class: 'form-control' %>
    </div>
    
    <div class="form-group">
      <%= f.label :email, 'Email' %>
      <%= f.email_field :email, class: 'form-control' %>
    </div>
    
    <% if @user.persisted? && @user.image? %>
      <%= image_tag @user.image.to_s, :size => '200x200' %>
      <label><%= f.check_box :remove_image %> 画像を削除</label>
    <% else %>
      <%= f.hidden_field :image_cache %>
    <% end %>
      <%= f.file_field :image %>
  
    <%= f.submit 'Update', class: 'btn btn-primary btn-block' %>
    <% end %> 
  </div>
</div>
